<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>할 일 목록</title>
  <!-- 외부 CSS 파일 연결 -->
  <link rel="stylesheet" href="Week03.css" />
</head>
<body>
  <!-- 할 일 목록을 감싸는 카드 UI -->
  <div class="todo-card">
    <h1>할 일 목록</h1>

    <!-- 할 일 입력 영역: 텍스트 입력 + 추가 버튼 -->
    <div class="input-group">
      <input type="text" id="todo-input" placeholder="할 일을 입력하세요" />
      <button onclick="addTodo()">추가</button>
    </div>

    <!-- 할 일 리스트가 표시될 영역 -->
    <ul id="todo-list"></ul>

    <!-- 메시지 출력 영역 (예: 추가 완료, 삭제 완료 등) -->
    <div class="message" id="message"></div>
  </div>

  <!-- JavaScript 코드 -->
  <script>
    // 요소 선택
    const input = document.getElementById('todo-input');
    const list = document.getElementById('todo-list');
    const message = document.getElementById('message');

    // 할 일 추가 함수
    const addTodo = () => {
      const text = input.value.trim(); // 공백 제거
      if (!text) return; // 빈 입력 방지

      // 새로운 리스트 아이템(li) 생성
      const li = document.createElement('li');

      // 텍스트를 담을 span 요소 생성
      const span = document.createElement('span');
      span.textContent = text;

      // 삭제 버튼 생성
      const delBtn = document.createElement('button');
      delBtn.textContent = '삭제';

      // li 안에 span과 삭제 버튼 삽입
      li.appendChild(span);
      li.appendChild(delBtn);
      list.appendChild(li); // 리스트에 추가

      input.value = ''; // 입력창 초기화

      // 할 일 클릭 → 완료 표시 (취소선)
      span.addEventListener('click', () => {
        li.classList.toggle('completed');
      });

      // 삭제 버튼 클릭 → 비동기 삭제
      delBtn.addEventListener('click', () => {
        message.textContent = '삭제 중...';
        setTimeout(() => {
          li.remove();
          message.textContent = '삭제 완료!';
          setTimeout(() => (message.textContent = ''), 1000);
        }, 1000);
      });

      // 추가 메시지 표시
      message.textContent = '할 일 추가 중...';
      setTimeout(() => {
        message.textContent = '할 일 추가 완료!';
        setTimeout(() => (message.textContent = ''), 1000);
      }, 2000);
    };
  </script>
</body>
</html>
